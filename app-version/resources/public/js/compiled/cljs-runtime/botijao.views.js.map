{"version":3,"sources":["botijao/views.cljs"],"mappings":";AAUA,8BAAA,9BAAMA;AAAN,AAAA,0FAAA,mDAAA,mFAAA,8CAAA,+EAAA,mFAAA,yDAAA,2CAAA,qDAAA,SAAA,6DAAA;AAAA,AAKgB,8BAAA,mFAAA,1GAACC;WALjB;;AAQA,+BAAA,/BAAMC;AAAN,AACE,IAAAC,aAAA,AAAAC,gBAA+B,sDAAA,mFAAA,zIAACK;IAAhCN,iBAAA,AAAAE,4BAAAF;UAAA,AAAAG,4CAAAH,eAAA,jEAAcI;gBAAd,AAAAD,4CAAAH,eAAA,vEAAkBK;AAAlB,AACE,oBAAMD;AAAN,AAAA,0FAAA,mDAAA,mFAAA,8CAAA,gCAAA,mFAAA,uDAAA,2CAAA,6DAAA,aAAA,mFAAA,yDAAA,2CAAA,wDAAA,JAIoBA,yDACAC;;AALpB;;;AAOJ,gCAAA,hCAAME;AAAN,AACE,YAAA,AAAAN,RAAMO,wBAAO,sDAAA,mFAAA,zIAACF;AAAd,AACE,oBAAME;AAAN,AAAA,0FAAA,mDAAA,mFAAA,8CAEO,CAAA,gEAAyBA;;AAFhC;;;AAIJ,2BAAA,3BAAMC;AAAN,AACE,IAAMC,OAAK,sDAAA,mFAAA,zIAACJ;AAAZ,AAAA,0FAAA,mDAAA,mFAAA,wGAAA,uHAAA,wHAAA,rSAGI,yIACAT,uHACAE,wHACAQ;;AAEN,AAAAI,kEAAA,iEAAA;AAAA,AAAA,0FAAyCF;;AAGzC,2BAAA,3BAAMG;AAAN,AACE,IAAMC,eAAa,sDAAA,mFAAA,zIAACP;AAApB,AACE,2DAAA,AAAAL,pDAACU,oEAAeE;;AAKpB","names":["botijao.views/record-button","re-frame.core/dispatch","botijao.views/recording-play","map__34207","cljs.core/deref","cljs.core/--destructure-map","cljs.core.get","url","mime-type","re_frame.core.subscribe","botijao.views/recording-pitch","pitch","botijao.views/home-panel","name","botijao.routes/panels","botijao.views/main-panel","active-panel"],"sourcesContent":["(ns botijao.views\n  (:require\n   [re-frame.core :as rf]\n   [botijao.events :as events]\n   [botijao.routes :as routes]\n   [botijao.subs :as subs]\n   ))\n\n\n;; home\n(defn record-button []\n  [:div\n   [:p \"Grave com o botao abaixo uma batida com madeira no centro do botijao\"]\n   [:button\n    {:type     \"button\"\n     :on-click #(rf/dispatch [::events/start-recording])}\n    \"Gravar\"]])\n\n(defn recording-play []\n  (let [{:keys [url mime-type]} @(rf/subscribe [::subs/recording-audio])]\n    (when url\n      [:div\n       [:p \"Escute o som gravado:\"]\n       [:audio {:controls true}\n        [:source {:src  url\n                  :type mime-type}]]])))\n\n(defn recording-pitch []\n  (let [pitch @(rf/subscribe [::subs/recording-pitch])]\n    (when pitch\n      [:div\n       [:p (str \"Pitch Detectado: \" pitch)]])))\n\n(defn home-panel []\n  (let [name (rf/subscribe [::subs/name])]\n    [:div\n     [:h1\n      (str \"Descubra quanto lhe resta de Gas no botijao\")]\n     [record-button]\n     [recording-play]\n     [recording-pitch]]))\n\n(defmethod routes/panels :home-panel [] [home-panel])\n\n;; main\n(defn main-panel []\n  (let [active-panel (rf/subscribe [::subs/active-panel])]\n    (routes/panels @active-panel)))\n\n\n\n\n(comment \n  [:div\n   [:a {:on-click #(rf/dispatch [::events/navigate :about])}\n    \"go to About Page\"]])"]}