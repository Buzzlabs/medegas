{"version":3,"sources":["botijao/events.cljs"],"mappings":"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","names":["botijao.events/err-map","error","target-obj-33924","*runtime-state*-orig-val__33926","oops.state/*runtime-state*","*runtime-state*-temp-val__33927","oops.state/prepare-state","js/Error","next-obj-33925","oops.core/validate-object-access-dynamically","target-obj-33928","*runtime-state*-orig-val__33930","*runtime-state*-temp-val__33931","next-obj-33929","re_frame.core.reg_event_db","_","botijao.db/default-db","re_frame.core.reg_event_fx","p__33932","vec__33933","cljs.core.nth","handler","p__33936","p__33937","map__33938","cljs.core/--destructure-map","cljs.core.get","vec__33939","db","active-panel","cljs.core.assoc","p__33942","p__33943","map__33944","map__33945","botijao.events/on-start-fn","tick","ticker","on-started","on-tick","re-frame.core/dispatch","c__30054__auto__","cljs.core.async.chan","cljs.core.async.impl.dispatch/run","f__30055__auto__","switch__29984__auto__","state_33952","state_val_33953","inst_33946","inst_33947","inst_33948","cljs.core.async.impl.ioc-helpers/put!","inst_33950","cljs.core.async.impl.ioc-helpers/return-chan","statearr-33954","state-machine__29985__auto__","ret-value__29986__auto__","result__29987__auto__","cljs.core/keyword-identical?","ex__29988__auto__","e33955","statearr-33956","cljs.core/seq","statearr-33957","cljs.core/first","state__30056__auto__","statearr-33958","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","js/setInterval","cljs.core.conj","p__33960","map__33961","botijao.events/on-stop-fn","mime-type","output","id","stream","audio","blob","target-obj-33962","*runtime-state*-orig-val__33964","*runtime-state*-temp-val__33965","next-obj-33963","filetype","clojure.string.split","cljs.core/second","file","js/File","target-obj-33970","*runtime-state*-orig-val__33974","*runtime-state*-temp-val__33975","call-info-33972","next-obj-33973","fn-33971","oops.core/validate-fn-call-dynamically","oops.state/get-last-access-modifier","target-obj-33966","*runtime-state*-orig-val__33976","*runtime-state*-temp-val__33977","call-info-33968","next-obj-33969","fn-33967","p1__33959#","state_34034","state_val_34035","inst_33983","inst_34003","statearr-34036","inst_33978","inst_33986","inst_33987","inst_33988","inst_33989","inst_33990","statearr-34037","statearr-34038","inst_34025","inst_34026","inst_34027","cljs.core/PersistentHashMap","inst_34019","statearr-34040","inst_34007","inst_34008","inst_34015","inst_34016","statearr-34041","statearr-34042","cljs.core/rest","ex34039","statearr-34043","statearr-34044","cljs.core/cons","statearr-34045","inst_34001","statearr-34046","statearr-34047","inst_34022","statearr-34048","statearr-34049","inst_34029","statearr-34050","cljs.core.async.impl.ioc-helpers/take!","statearr-34051","inst_34006","inst_34009","inst_34010","statearr-34052","statearr-34053","statearr-34054","statearr-34055","inst_33992","inst_33993","temp__5753__auto__","e__29229__auto__","statearr-34056","statearr-34057","statearr-34058","inst_34031","inst_34032","inst_34012","inst_34013","cljs.core/not","statearr-34059","statearr-34060","statearr-34061","statearr-34062","e34063","statearr-34064","statearr-34065","statearr-34066","js/URL","js/clearInterval","p__34067","map__34068","botijao.events/set-start!","recorder","delay","params","events","js/setTimeout","target-obj-34073","*runtime-state*-orig-val__34077","*runtime-state*-temp-val__34078","call-info-34075","next-obj-34076","fn-34074","target-obj-34069","*runtime-state*-orig-val__34079","*runtime-state*-temp-val__34080","call-info-34071","next-obj-34072","fn-34070","p__34081","map__34082","botijao.events/set-stop!","limit","target-obj-34087","*runtime-state*-orig-val__34091","*runtime-state*-temp-val__34092","call-info-34089","next-obj-34090","fn-34088","target-obj-34083","*runtime-state*-orig-val__34093","*runtime-state*-temp-val__34094","call-info-34085","next-obj-34086","fn-34084","botijao.events/record-stream-fn","params'","target-obj-34095","*runtime-state*-orig-val__34099","*runtime-state*-temp-val__34100","call-info-34097","next-obj-34098","fn-34096","p__34102","map__34103","botijao.events/record!","p1__34101#","audio-context","js/AudioContext","js/module$node_modules$recorder_js$index.default","pstream","target-obj-34104","*runtime-state*-orig-val__34110","*runtime-state*-temp-val__34111","call-info-34106","target-obj-34107","next-obj-34108","next-obj-34109","fn-34105","js/navigator","on-error","state_34115","state_val_34116","inst_34113","statearr-34117","e34118","statearr-34119","statearr-34120","statearr-34121","target-obj-34126","*runtime-state*-orig-val__34130","*runtime-state*-temp-val__34131","call-info-34128","next-obj-34129","fn-34127","target-obj-34122","*runtime-state*-orig-val__34132","*runtime-state*-temp-val__34133","call-info-34124","next-obj-34125","fn-34123","re-frame.core/reg-fx","p__34134","vec__34135","map__34138","on-stop","state_34151","state_val_34152","inst_34139","inst_34140","statearr-34153","inst_34142","inst_34143","statearr-34154","statearr-34155","statearr-34156","statearr-34157","statearr-34158","inst_34147","inst_34148","inst_34149","statearr-34159","e34160","statearr-34161","statearr-34162","statearr-34163","re-frame.core/trim-v","p__34165","map__34166","p1__34164#","cljs.core.update","cljs.core.dissoc","cljs.core/assoc-in","cljs.core/random-uuid","p__34167","vec__34168","tick-delay","cljs.core.update_in","cljs.core.partial","cljs.core/+","p__34171","p__34172","map__34173","vec__34174","recording","p__34177","map__34178","max","progress","p__34179","vec__34180","botijao.events/get-pitch","cljs.core.print","cljs.core/type","p__34183","p__34184","map__34185","vec__34186","pitch"],"sourcesContent":["(ns botijao.events\n  (:require\n   [cljs.core.async :as async]\n   [\"recorder-js\" :default Recorder]\n   [\"wav-decoder\" :as WavDecoder]\n   [\"pitchfinder\" :default Pitchfinder]\n\n   [re-frame.core :as rf]\n   [botijao.db :as db]\n   [botijao.subs :as subs]\n   [oops.core :refer [oget oset! ocall!]]\n   [clojure.string :as s]))\n\n\n(defn err-map\n  \"Helper function. Takes js/Error object and returns a map with its name and massage.\"\n  [error]\n  {:name    (oget error :name)\n   :message (oget error :message)})\n\n;; NAVIGATE  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n(rf/reg-event-db\n ::initialize-db\n (fn [_ _]\n   db/default-db))\n\n(rf/reg-event-fx\n  ::navigate\n  (fn [_ [_ handler]]\n   {:navigate handler}))\n\n(rf/reg-event-fx\n ::set-active-panel\n (fn [{:keys [db]} [_ active-panel]]\n   {:db (assoc db :active-panel active-panel)}))\n\n\n;; AUDIO FUNCTIONS ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n\n(defn on-start-fn\n  [{:keys [tick ticker]} {:keys [on-started on-tick]}]\n  (fn []\n    (rf/dispatch on-started)\n    (async/go\n      (async/>! ticker\n            (js/setInterval\n             #(rf/dispatch (conj on-tick (:interval tick)))\n             (:interval tick))))))\n\n(defn on-stop-fn\n  [{:keys [mime-type output id stream ticker]} _]\n  (fn [audio]\n    (let [blob      (oget audio :blob)\n          filetype  (-> mime-type (s/split #\"/\") second)\n          file      (new js/File #js[blob] (str id \".\" filetype) #js{:type mime-type})]\n      (-> stream (ocall! :getTracks) (ocall! :forEach #(.stop %)))\n      (async/go\n        (async/>! output\n              {:id        id\n               :file      file\n               :type      filetype\n               :mime-type mime-type\n               :url       (ocall! js/URL :createObjectURL blob)})\n        (js/clearInterval (async/<! ticker))))))\n\n(defn set-start!\n  [recorder {:keys [delay] :as params} events]\n  (js/setTimeout\n   #(-> recorder (ocall! :start) (ocall! :then (on-start-fn params events)))\n   delay))\n\n(defn set-stop!\n  [recorder {:keys [delay limit] :as params} events]\n  (js/setTimeout\n   #(-> recorder (ocall! :stop) (ocall! :then (on-stop-fn params events)))\n   (+ delay limit)))\n\n(defn record-stream-fn\n  [recorder params events]\n  (fn [stream]\n    (let [params' (assoc params :stream stream :ticker (async/chan))]\n      (ocall! recorder :init stream)\n      (set-start! recorder params' events)\n      (set-stop! recorder params' events))))\n\n(defn record!\n  [{:keys [output] :as params} events]\n  (let [audio-context (new js/AudioContext)\n        recorder      (new Recorder audio-context)\n        pstream       (ocall! js/navigator :mediaDevices.getUserMedia #js{:audio true})\n        on-error      #(async/go (async/>! output %))]\n    (-> pstream\n        (ocall! :then (record-stream-fn recorder params events))\n        (ocall! :catch on-error))))\n\n\n\n;; FX     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n(rf/reg-fx\n ::record-audio!\n (fn [[params {:keys [on-stop on-error] :as events}]]\n   (let [output (async/chan)]\n     (async/go\n       (record! (assoc params :output output) events)\n       (let [result (async/<! output)\n             event  (if (instance? js/Error result) on-error on-stop)]\n         (rf/dispatch (conj event result)))))))\n\n\n\n\n\n;; EVENTS ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n(rf/reg-event-fx\n ::start-recording\n [rf/trim-v]\n (fn [{:keys [db]} _]\n   (let [limit 2000]\n     {:db                (-> db\n                             (update :transcribe #(dissoc % :transcription))\n                             (assoc-in [:transcribe :recording] {:status   :initialized\n                                                                 :progress {:max     limit\n                                                                            :current 0}}))\n      ::record-audio! [{:delay     500\n                        :limit     limit\n                        :id        (random-uuid)\n                        :mime-type \"audio/wav\"\n                        :tick      {:interval 1000}}\n                        {:on-started [::recording-started]\n                         :on-tick    [::update-recording-progress]\n                         :on-stop    [::stop-recording]\n                         :on-error   [::recording-error]}]})))\n\n(rf/reg-event-db\n ::recording-started\n [rf/trim-v]\n (fn [db _]\n   (assoc-in db [:transcribe :recording :status] :pending)))\n\n(rf/reg-event-db\n ::update-recording-progress\n [rf/trim-v]\n (fn [db [tick-delay]]\n   (update-in db [:transcribe :recording :progress :current] (partial + tick-delay))))\n\n(rf/reg-event-fx\n ::stop-recording\n [rf/trim-v]\n (fn [{:keys [db]} [recording]]\n   {:db       (-> db\n                  (assoc-in [:transcribe :recording :status] :success)\n                  (update-in [:transcribe :recording :progress] (fn [{:keys [max] :as progress}]\n                                                                  (assoc progress :current max))))\n    :dispatch [::detect-pitch recording]}))\n\n(rf/reg-event-db\n ::recording-error\n [rf/trim-v]\n (fn [db [error]]\n   (assoc-in db [:transcribe :recording] {:status :failure\n                                          :error  (err-map error)})))\n\n\n(defn get-pitch \n  [file]\n  (print (str \"PITCH FOR FILE: \" file))\n  (print (type file))\n  1234)\n\n(rf/reg-event-fx\n ::detect-pitch\n [rf/trim-v]\n (fn [{:keys [db]} [recording]]\n   (let [file    (:file recording)\n         pitch (get-pitch file)]\n    {:db       (-> db \n                   (assoc :recording recording)\n                   (assoc :pitch pitch)\n                   )})))\n\n\n(comment\n  \n  (def buffer (-> @(rf/subscribe [::subs/recording])\n                  :file))\n  \n  (type buffer)\n  (as-> buffer %\n    (.stream %)\n    (.valueOf %)\n    (.sync (.-decode WavDecoder) %)\n    )\n (.decode WavDecoder buffer)\n\n  (def decoder (new WavDecoder))\n  (let [decoder (new WavDecoder)]\n   (-> @rec\n      :file\n      type\n      ))\n\n  (->\n    @rec\n   :file\n   #(fn [buffer] (.decode WavDecoder buffer))\n   (.then\n    (fn [audioData]\n      (.log js/console (.-sampleRate audioData))\n      (.log js/console (aget (.-channelData audioData) 0))\n      (.log js/console (aget (.-channelData audioData) 1)))))\n\n  )\n\n(comment\n  (def buffer-size (* 2 8192))\n\n  (def detect-pitch\n    (pitchfinder/AMDF))\n\n  (defn dispatch-frequency-and-red-key [frequency]\n    (when frequency\n      (let [{:keys [octave key]} (notes/frequency->keyboard-key frequency)]\n        (re-frame/dispatch [:pitch-detect/frequency frequency])\n        (re-frame/dispatch [:keyboard/highlight-red-key octave key]))))\n\n  (defn pitch-detect-on-audio-process [event]\n    (let [frequency (-> event\n                        .-inputBuffer\n                        (.getChannelData 0)\n                        detect-pitch)]\n      (dispatch-frequency-and-red-key frequency)))\n\n  (defn success-callback [audio-ctx stream]\n    (let [stream-source                 (.createMediaStreamSource audio-ctx stream)\n          pitch-detect-script-processor (.createScriptProcessor audio-ctx buffer-size)]\n      (.addEventListener pitch-detect-script-processor \"audioprocess\" pitch-detect-on-audio-process)\n      (.connect stream-source pitch-detect-script-processor)\n      (.connect pitch-detect-script-processor (.-destination audio-ctx))))\n\n  (defn start-pitch-detect [audio-ctx]\n    (js/navigator.getUserMedia #js {:audio true}\n                               #(success-callback audio-ctx %1)\n                               js/alert))\n  )"]}